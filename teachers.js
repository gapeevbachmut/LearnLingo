import{m as L,g as q,o as T}from"./assets/main-C0wBvBBP.js";import{g as S,t as E,i as b,c as F,f as C}from"./assets/teachers-api-Cc_ReFrq.js";import"./assets/vendor-CJFyyV97.js";function k(e){e.addEventListener("click",t=>{const s=t.target.closest(".teacher-like-btn");if(!s)return;const n=s.closest(".teacher-card").dataset.id,a=q();if(console.log("CLICK teacherId:",n),console.log("Current favorites:",S(a?.uid)),!a){alert("This feature is available only to authorized users!"),L({type:"login"});return}E(a.uid,n);const p=s.querySelector("use");b(a.uid,n)?p.setAttribute("href","#icon-hover"):p.setAttribute("href","#icon-normal")})}const i=document.querySelector(".teachers-list"),l=document.querySelector(".load-more-btn"),w=4;let m=1,o=[];function c(e){o=e,m=1,y()}function y(){const e=m*w,t=o.slice(0,e),s=t.map(r=>F(r)).join("");i.innerHTML=s,t.length>=o.length?l.style.display="none":l.style.display="block"}k(i);l.addEventListener("click",()=>{m+=1,y()});i.addEventListener("click",e=>{P(e),x(e)});function P(e){const t=e.target.closest(".teacher-read-more");if(!t)return;const s=t.closest(".teacher-card"),r=s.querySelector(".teacher-extra"),n=s.querySelector(".trial-lesson-btn");B(s),r.classList.toggle("is-hidden")?(t.classList.remove("is-hidden"),n.classList.add("is-hidden")):(t.classList.add("is-hidden"),n.classList.remove("is-hidden"))}function x(e){const t=e.target.closest(".trial-lesson-btn");if(!t)return;const r=t.closest(".teacher-card").dataset.id,n=o.find(a=>a.id===r);n&&L({type:"trial",teacher:n})}function B(e){i.querySelectorAll(".teacher-card").forEach(t=>{t!==e&&(t.querySelector(".teacher-extra")?.classList.add("is-hidden"),t.querySelector(".trial-lesson-btn")?.classList.add("is-hidden"),t.querySelector(".teacher-read-more")?.classList.remove("is-hidden"))})}const d=document.querySelector(".language");let u=[];function M(e){u=e;const t=e.flatMap(r=>r.languages);[...new Set(t)].forEach(r=>{const n=document.createElement("option");n.value=r,n.textContent=r,d.append(n)}),d.value=""}d.addEventListener("change",e=>{const t=e.target.value;if(!t){c(u);return}const s=u.filter(r=>r.languages.includes(t));c(s)});const h=document.querySelector(".level");let f=[];function $(e){f=e;const t=e.flatMap(r=>r.levels);[...new Set(t)].forEach(r=>{const n=document.createElement("option");n.value=r,n.textContent=r,h.append(n)}),h.value=""}h.addEventListener("change",e=>{const t=e.target.value;if(!t){c(f);return}const s=f.filter(r=>r.levels.includes(t));c(s)});const g=document.querySelector(".price");let v=[];function A(e){v=e;const t=e.map(r=>r.price_per_hour);[...new Set(t)].sort((r,n)=>r-n).forEach(r=>{const n=document.createElement("option");n.value=r,n.textContent=`${r} $`,g.append(n)}),g.value=""}g.addEventListener("change",e=>{const t=e.target.value,s=Number(t);if(!t){c(v);return}const r=v.filter(n=>n.price_per_hour===s);c(r)});async function I(){const e=await C();c(e),M(e),$(e),A(e)}T(()=>{I()});
//# sourceMappingURL=teachers.js.map
