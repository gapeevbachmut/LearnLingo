{"version":3,"file":"teachers-api-Cc_ReFrq.js","sources":["../../src/js/favorites/favorites-storage.js","../../src/js/teachers/teacher-extra.js","../../src/js/teachers/teacher-card.js","../../src/js/teachers/teachers-api.js"],"sourcesContent":["// отримати зі сховища - якщо є юзер\nexport function getFavorites(userId) {\n  return JSON.parse(localStorage.getItem(`favorites_${userId}`)) || [];\n}\n\n// записати у сховище з такою назвою, та якщо є юзер\nexport function saveFavorites(userId, favorites) {\n  localStorage.setItem(`favorites_${userId}`, JSON.stringify(favorites));\n}\n\nexport function toggleFavorites(userId, teacherId) {\n  const favorites = getFavorites(userId);\n  const favoriteIndex = favorites.indexOf(teacherId);\n\n  if (favoriteIndex === -1) {\n    favorites.push(teacherId);\n  } else {\n    favorites.splice(favoriteIndex, 1);\n  }\n\n  saveFavorites(userId, favorites);\n\n  return favorites;\n}\n\nexport function isFavorites(userId, teacherId) {\n  const favorites = getFavorites(userId);\n\n  return favorites.includes(teacherId);\n}\n","//\n\nexport function createTeacherExtra(teacher) {\n  return `\n    <div class=\"teacher-extra is-hidden\">\n\n    <p class=\"extra-experience\"> ${teacher.experience}</p>\n\n    <h3 class=\"is-hidden\">Reviews</h3>\n    <ul class=\"teacher-reviews\">\n      ${teacher.reviews\n        .map(\n          review => `\n          <li class=\"review-item\">\n            <p class=\"review-title\"><span class=\"review-name\">${\n              review.reviewer_name\n            }</span>\n            <span> <svg width=\"16\" height=\"16\" class=\"svg-star\">\n            <use href=\"#icon-star\"></use>\n          </svg></span>\n              <span>${review.reviewer_rating.toFixed(1)}</span>\n\n            </p>\n            <p class=\"review-comment\">${review.comment}</p>\n          </li>\n        `\n        )\n        .join('')}\n    </ul>\n  </div>\n    `;\n}\n","import { getCurrentUser } from '../auth/auth-state';\nimport { isFavorites } from '../favorites/favorites-storage';\nimport { createTeacherExtra } from './teacher-extra';\n\nexport function createTeacherCard(teacher) {\n  const user = getCurrentUser(); // отримую поточного юзера\n  // console.log('user:', user);\n  // console.log('teacher.id:', teacher.id);\n\n  // if (user) {\n  //   console.log('isFavorite:', isFavorites(user.uid, teacher.id));\n  // }\n\n  // якщо юзер існує та id вчителя є у фоворитах - міняю іконку\n  const favoriteIcon = user && isFavorites(user.uid, teacher.id);\n  const iconId = favoriteIcon ? '#icon-hover' : '#icon-normal';\n\n  return `\n<li  class=\"teacher-card\"\n     data-id=\"${teacher.id}\">\n  <!-- Avatar -->\n  <div class=\"teacher-avatar\">\n    <img src='${\n      teacher.avatar_url || '../img/main-content/default-avatar.png'\n    } '\n     alt=\"${teacher.name || 'Teacher'} \" class=\"teacher-avatar-img\" width=\"96\"\n      height=\"96\" />\n    <svg width=\"12\" height=\"12\" class=\"teacher-avatar-svg\">\n      <use href=\"#icon-group\"></use>\n    </svg>\n  </div>\n\n  <!-- Main content -->\n  <div class=\"teacher-content\">\n    <div class=\"teacher-content-top\">\n      <!-- Name -->\n      <div class=\"teacher-data\">\n                <p class=\"teacher-languages\">${teacher.languages}</p>\n\n        <h2 class=\"teacher-name\">\n          ${teacher.name} ${teacher.surname}\n        </h2>\n      </div>\n      <!-- Top info row -->\n      <div class=\"teacher-meta\">\n\n        <p class=\"teacher-lessons-online\">\n                    <svg width=\"16\" height=\"16\" class=\"svg-book\">\n            <use href=\"#icon-book-open\"></use>\n          </svg>\n          Lessons online\n        </p>\n        <span class=\"teacher-separator\">|</span>\n        <p class=\"teacher-lessons-done\">\n          Lessons done: <span>${teacher.lessons_done}</span>\n        </p>\n        <span class=\"teacher-separator\">|</span>\n        <p class=\"teacher-rating\">\n          <svg width=\"16\" height=\"16\" class=\"svg-star\">\n            <use href=\"#icon-star\"></use>\n          </svg>\n          Rating: <span>${teacher.rating}</span>\n        </p>\n        <span class=\"teacher-separator\">|</span>\n        <p class=\"teacher-price\">\n          Price / 1 hour: <span class=\"price-color\">${\n            teacher.price_per_hour\n          }$</span>\n        </p>\n        <button class=\"teacher-like-btn\" type=\"button\" >\n          <svg width=\"16\" height=\"16\" class=\"svg-heart\">\n             <use href=\"${iconId}\"></use>\n          </svg>\n        </button>\n      </div>\n    </div>\n\n    <!-- Skills / description -->\n    <div class=\"teacher-info\">\n\n      <p class=\"teacher-speaks\">\n        <span class=\"teacher-info-label\">Speaks:</span>\n        <span class=\"teacher-info-language\"> ${teacher.languages}</span>\n\n      </p>\n\n      <p class=\"teacher-lesson-info\">\n        <span class=\"teacher-info-label\">Lesson Info:</span>\n${teacher.lesson_info}      </p>\n\n      <p class=\"teacher-conditions\">\n        <span class=\"teacher-info-label\">Conditions:</span>\n${teacher.conditions}      </p>\n\n    </div>\n\n    <!-- Read more -->\n    <button class=\"teacher-read-more\" type=\"button\">\n      Read more\n    </button>\n    <!-- ---------------------   teacher-extra   ------------------------------ -->\n${createTeacherExtra(teacher)}\n    <!-- ---------------------------------------------------------------------- -->\n\n    <!-- Levels -->\n    <ul class=\"teacher-levels\">\n${teacher.levels\n  .map(level => `<li class='teacher-level'><p>#${level}</p></li>`)\n  .join('')}\n\n    </ul>\n\n    <button type='button' class=\"trial-lesson-btn is-hidden\" ${teacher}>Book trial lesson</button>\n\n  </div>\n</li>\n    `;\n}\n","import axios from 'axios';\n\nconst API_TEACHERS =\n  'https://learnlingo-12-25-default-rtdb.firebaseio.com/.json';\n\nexport async function fetchTeachers() {\n  const response = await axios.get(API_TEACHERS);\n\n  if (!response.data) {\n    return [];\n  }\n\n  // return Object.values(response.data);\n  return Object.entries(response.data).map(([id, teacher]) => ({\n    id, //  Firebase key\n    ...teacher, // решта даних\n  }));\n}\n"],"names":["getFavorites","userId","saveFavorites","favorites","toggleFavorites","teacherId","favoriteIndex","isFavorites","createTeacherExtra","teacher","review","createTeacherCard","user","getCurrentUser","iconId","level","API_TEACHERS","fetchTeachers","response","axios","id"],"mappings":"gFACO,SAASA,EAAaC,EAAQ,CACnC,OAAO,KAAK,MAAM,aAAa,QAAQ,aAAaA,CAAM,EAAE,CAAC,GAAK,CAAA,CACpE,CAGO,SAASC,EAAcD,EAAQE,EAAW,CAC/C,aAAa,QAAQ,aAAaF,CAAM,GAAI,KAAK,UAAUE,CAAS,CAAC,CACvE,CAEO,SAASC,EAAgBH,EAAQI,EAAW,CACjD,MAAMF,EAAYH,EAAaC,CAAM,EAC/BK,EAAgBH,EAAU,QAAQE,CAAS,EAEjD,OAAIC,IAAkB,GACpBH,EAAU,KAAKE,CAAS,EAExBF,EAAU,OAAOG,EAAe,CAAC,EAGnCJ,EAAcD,EAAQE,CAAS,EAExBA,CACT,CAEO,SAASI,EAAYN,EAAQI,EAAW,CAG7C,OAFkBL,EAAaC,CAAM,EAEpB,SAASI,CAAS,CACrC,CC3BO,SAASG,EAAmBC,EAAS,CAC1C,MAAO;AAAA;AAAA;AAAA,mCAG0BA,EAAQ,UAAU;AAAA;AAAA;AAAA;AAAA,QAI7CA,EAAQ,QACP,IACCC,GAAU;AAAA;AAAA,gEAGNA,EAAO,aACrB;AAAA;AAAA;AAAA;AAAA,sBAIsBA,EAAO,gBAAgB,QAAQ,CAAC,CAAC;AAAA;AAAA;AAAA,wCAGfA,EAAO,OAAO;AAAA;AAAA,SAGtD,EACS,KAAK,EAAE,CAAC;AAAA;AAAA;AAAA,KAIjB,CC3BO,SAASC,EAAkBF,EAAS,CACzC,MAAMG,EAAOC,IAUPC,EADeF,GAAQL,EAAYK,EAAK,IAAKH,EAAQ,EAAE,EAC/B,cAAgB,eAE9C,MAAO;AAAA;AAAA,gBAEOA,EAAQ,EAAE;AAAA;AAAA;AAAA,gBAIpBA,EAAQ,YAAc,wCAC5B;AAAA,YACYA,EAAQ,MAAQ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAYUA,EAAQ,SAAS;AAAA;AAAA;AAAA,YAGpDA,EAAQ,IAAI,IAAIA,EAAQ,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAcXA,EAAQ,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAO1BA,EAAQ,MAAM;AAAA;AAAA;AAAA;AAAA,sDAK5BA,EAAQ,cACpB;AAAA;AAAA;AAAA;AAAA,0BAI0BK,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAWeL,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAM9DA,EAAQ,WAAW;AAAA;AAAA;AAAA;AAAA,EAInBA,EAAQ,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASlBD,EAAmBC,CAAO,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,EAK3BA,EAAQ,OACP,IAAIM,GAAS,iCAAiCA,CAAK,WAAW,EAC9D,KAAK,EAAE,CAAC;AAAA;AAAA;AAAA;AAAA,+DAIoDN,CAAO;AAAA;AAAA;AAAA;AAAA,KAKtE,CCnHA,MAAMO,EACJ,6DAEK,eAAeC,GAAgB,CACpC,MAAMC,EAAW,MAAMC,EAAM,IAAIH,CAAY,EAE7C,OAAKE,EAAS,KAKP,OAAO,QAAQA,EAAS,IAAI,EAAE,IAAI,CAAC,CAACE,EAAIX,CAAO,KAAO,CAC3D,GAAAW,EACA,GAAGX,CACP,EAAI,EAPO,CAAA,CAQX"}