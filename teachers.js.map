{"version":3,"file":"teachers.js","sources":["../src/js/teachers/teachers-list.js","../src/js/filters/filter-language.js","../src/js/filters/filter-level.js","../src/js/filters/filter-price.js","../src/teachers-page.js"],"sourcesContent":["import { createTeacherCard } from './teacher-card';\nimport { initTeacherCardActions } from './teacher-card-actions';\n\n//  це - ul - сюди вставляється  - li (createTeacherCard)\nconst teacherList = document.querySelector('.teachers-list');\nconst loadMoreBtn = document.querySelector('.load-more-btn');\n\nconst perPage = 4;\nlet currentPage = 1;\nlet allTeachers = []; //копія БД\n\n// події/обробка викликати ОДИН раз, одразу після отримання teacherList\ninitTeacherCardActions({\n  container: teacherList,\n  getTeachers: () => allTeachers,\n});\n\n// -------------   запит на вчителів\nexport function setTeachers(teachers) {\n  allTeachers = teachers; //teachers приходить з teachers-page.js\n  currentPage = 1;\n  renderTeachers();\n}\n\n// ------------   рендер розмітки\nexport function renderTeachers() {\n  const end = currentPage * perPage;\n  const teachersForRender = allTeachers.slice(0, end);\n\n  const markup = teachersForRender\n    .map(teacher => createTeacherCard(teacher))\n    .join('');\n\n  teacherList.innerHTML = markup; //  малюю розмітку\n\n  // -------------------  ховаю/показую кнопку - load More\n  if (teachersForRender.length >= allTeachers.length) {\n    loadMoreBtn.style.display = 'none';\n  } else {\n    loadMoreBtn.style.display = 'block';\n  }\n}\n\n// -----------------  пагінація\nloadMoreBtn.addEventListener('click', () => {\n  currentPage += 1;\n  renderTeachers();\n});\n","import { setTeachers } from '../teachers/teachers-list';\n\nconst filterLanguage = document.querySelector('.language');\n// тег select\n\nlet allTeachers = []; //  копія БД\n\nexport function createLanguageFilter(teachers) {\n  allTeachers = teachers; //  teachers приходить з main.js\n\n  const languages = teachers.flatMap(teacher => teacher.languages);\n  // збираю всі мови в один масив\n  const uniqueLanguages = [...new Set(languages)];\n  // прибираю повтор\n\n  uniqueLanguages.forEach(lang => {\n    // для кожної мови - ячейка\n    const option = document.createElement('option');\n    option.value = lang; // атрибут value = мова\n    option.textContent = lang; // текст всередині тега\n    filterLanguage.append(option); //вставляю у тег select, тегі option\n  });\n  filterLanguage.value = ''; //дефолт - All languages\n}\n\nfilterLanguage.addEventListener('change', event => {\n  const selectLanguage = event.target.value;\n  // обираю мову\n  if (!selectLanguage) {\n    //якщо мова не обрана - (All languages) - показую усіх вчителів\n    setTeachers(allTeachers);\n    return;\n  }\n\n  const filteredTeachers = allTeachers.filter(teacher =>\n    //коли мова обрана-перевіряю властивість lang[] у кожного вчителя\n    //на наявність обраної мови\n    teacher.languages.includes(selectLanguage)\n  );\n  //у функцію відмальовки списку (з teachers-list.js )- передаємо вчителів з наявною мовою\n  setTeachers(filteredTeachers);\n});\n","import { setTeachers } from '../teachers/teachers-list';\n\nconst filterLevel = document.querySelector('.level');\n\nlet allTeachers = [];\n\nexport function createLevelFilter(teachers) {\n  allTeachers = teachers;\n  const levels = teachers.flatMap(teacher => teacher.levels);\n  const uniqueLevels = [...new Set(levels)];\n\n  uniqueLevels.forEach(lev => {\n    const option = document.createElement('option');\n    option.value = lev;\n    option.textContent = lev;\n    filterLevel.append(option);\n  });\n  filterLevel.value = '';\n}\n\nfilterLevel.addEventListener('change', event => {\n  const selectLevel = event.target.value;\n\n  if (!selectLevel) {\n    setTeachers(allTeachers);\n    return;\n  }\n\n  const filteredTeachers = allTeachers.filter(teacher =>\n    teacher.levels.includes(selectLevel)\n  );\n  setTeachers(filteredTeachers);\n});\n","import { setTeachers } from '../teachers/teachers-list';\n\nconst filterPrice = document.querySelector('.price');\n\nlet allTeachers = [];\n\nexport function createPriceFilter(teachers) {\n  allTeachers = teachers;\n  // console.log('allTeachers:', allTeachers);\n  const prices = teachers.map(teacher => teacher.price_per_hour);\n\n  const uniquePrices = [...new Set(prices)].sort((a, b) => a - b);\n  uniquePrices.forEach(price => {\n    const option = document.createElement('option');\n    option.value = price;\n    option.textContent = `${price} $`;\n    filterPrice.append(option);\n  });\n  filterPrice.value = '';\n}\n\nfilterPrice.addEventListener('change', event => {\n  // console.log('raw value:', event.target.value);\n  // console.log('number:', Number(event.target.value));\n  const value = event.target.value;\n  const selectPrice = Number(value);\n\n  // console.log('selected:', value, selectPrice);\n\n  // const selectPrice = Number(event.target.value);\n  // console.log(typeof selectPrice, selectPrice);\n  if (!value) {\n    setTeachers(allTeachers);\n    return;\n  }\n\n  const filteredTeachers = allTeachers.filter(\n    teacher => teacher.price_per_hour === selectPrice\n  );\n  // console.log('result:', filteredTeachers.length);\n\n  setTeachers(filteredTeachers);\n});\n","import './js/filters/filter-language.js';\nimport './js/teachers/teachers-list.js';\n\nimport { fetchTeachers } from './js/teachers/teachers-api.js';\nimport { setTeachers } from './js/teachers/teachers-list.js';\nimport { createLanguageFilter } from './js/filters/filter-language.js';\nimport { createLevelFilter } from './js/filters/filter-level.js';\nimport { createPriceFilter } from './js/filters/filter-price.js';\nimport { onAuthReady } from './js/auth/auth-state.js';\n\nexport async function initTeachers() {\n  const teachers = await fetchTeachers();\n\n  setTeachers(teachers);\n  createLanguageFilter(teachers);\n  createLevelFilter(teachers);\n  createPriceFilter(teachers);\n  // console.log('teachers from API:', teachers);\n}\n\nonAuthReady(() => {\n  initTeachers();\n});\n"],"names":["teacherList","loadMoreBtn","perPage","currentPage","allTeachers","initTeacherCardActions","setTeachers","teachers","renderTeachers","end","teachersForRender","markup","teacher","createTeacherCard","filterLanguage","createLanguageFilter","languages","lang","option","event","selectLanguage","filteredTeachers","filterLevel","createLevelFilter","levels","lev","selectLevel","filterPrice","createPriceFilter","prices","a","b","price","value","selectPrice","initTeachers","fetchTeachers","onAuthReady"],"mappings":"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"}